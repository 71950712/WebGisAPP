<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <link rel="stylesheet" href="http://localhost:8580/arcgis_js_api/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="http://localhost:8580/arcgis_js_api/css/bootstrap-theme.min.css"/>
    <link href="favicon.ico" rel="shortcut icon" />
    <script src="http://localhost:8580/arcgis_js_api/js/bootstrap.min.js" type="application/javascript"></script>
    <script src="http://localhost:8580/arcgis_js_api/js/jquery-3.4.1.min.js" ></script>

    <script  type="text/javascript">
        $(function () {
            $("#login_btn").click(function(){
                var username = $("#userName").val();//取值
                var password = $("#password").val();
                if(!username){
                    alert("用户名必填!");
                    $("#userName").focus();//获取焦点
                    return ;
                }
                if(!password){
                    alert(password);
                    $("#Password").focus();//获取焦点
                    return ;
                }
                //var param = "username="+username+"&password="+password;
                var param = {"id":username,"pwd":password};
                $.post("/login",param,function(result){
                    if(result){
                        window.location.href="/";
                    }else{
                        alert("用户名或者密码错误!");
                    }

                });

            });
            $("#register_btn").click(function(){
                var username = $("#userName").val();//取值
                var password = $("#password").val();
                if(!username){
                    alert("用户名必填!");
                    $("#userName").focus();//获取焦点
                    return ;
                }
                if(!password){
                    alert("密码必填!");
                    $("#Password").focus();//获取焦点
                    return ;
                }
                //var param = "username="+username+"&password="+password;
                var param = {"id":username,"pwd":password};
                $.post("/register",param,function(result){
                    if(result){
                        alert("注册成功");
                        window.location.href="/";
                    }else{
                        alert("注册失败!");
                    }

                });
            });
        });
    </script>

</head>
<body>

<div class="modal-dialog modal-sm" style="margin-top: 10%;">

    <div class="modal-content">
        <div class="modal-header">

            <h4 class="modal-title text-center" id="myModalLabel">登录</h4>
        </div>
        <div class="modal-body" id = "model-body">
            <div class="form-group">
                <label for="userName" class="col-sm-2 control-label">ID</label>
                <input id="userName"type="text" class="form-control"placeholder="用户名" autocomplete="off" name="id">
            </div>
            <div class="form-group">
                <label for="password" class="col-sm-2 control-label">Password</label>
                <input id="password" type="text" class="form-control" placeholder="密码" autocomplete="off" name="pwd">
            </div>
        </div>
        <div class="modal-footer">
            <div class="form-group">
                <button id="login_btn" type="submit" class="btn btn-primary form-control">登录</button>
            </div>
            <div class="form-group">
                <button id="register_btn" type="submit" class="btn btn-primary form-control" >注册</button>
            </div>

        </div>
    </div><!-- /.modal-content -->

</div><!-- /.modal -->

</body>
</html>